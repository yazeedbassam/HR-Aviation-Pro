# ุฏููู ููุญ ุฌููุน ุงูุตูุงุญูุงุช ูููุณุชุฎุฏู admin

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงูุฏููู ููุถุญ ููููุฉ ููุญ ุฌููุน ุงูุตูุงุญูุงุช ุงููุทููุจุฉ ูููุณุชุฎุฏู `admin` ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุนูู Railway.

## ๐ ุงููููุงุช ุงููุชุงุญุฉ

### 1. `Grant_All_Permissions_To_Admin.sql`
- **ุงููุตู**: ุณูุฑูุจุช ุดุงูู ูููุตู ูููุญ ุฌููุน ุงูุตูุงุญูุงุช
- **ุงููููุฒุงุช**:
  - ุฅูุดุงุก ุงููุณุชุฎุฏู admin ุฅุฐุง ูู ููู ููุฌูุฏุงู
  - ููุญ ุฌููุน ุฃููุงุน ุงูุตูุงุญูุงุช
  - ุชุณุฌูู ููุตู ููุนูููุงุช
  - ุงูุชุญูู ูู ุงููุชุงุฆุฌ
- **ุงูุงุณุชุฎุฏุงู**: ูููุฑุงุฌุนุฉ ุงูุดุงููุฉ ูุงูุชุทุจูู ุงูุขูู

### 2. `Quick_Admin_Permissions.sql`
- **ุงููุตู**: ุณูุฑูุจุช ุณุฑูุน ููุจุณุท
- **ุงููููุฒุงุช**:
  - ุชูููุฐ ุณุฑูุน
  - ุงุณุชุฎุฏุงู `ON CONFLICT` ูุชุฌูุจ ุงูุฃุฎุทุงุก
  - ุฃูู ุชูุตููุงู ูู ุงูุชุณุฌูู
- **ุงูุงุณุชุฎุฏุงู**: ููุชูููุฐ ุงูุณุฑูุน ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ

## ๐ ููููุฉ ุงูุชูููุฐ ุนูู Railway

### ุงูุทุฑููุฉ ุงูุฃููู: ุนุจุฑ Railway Dashboard

1. **ุงุฐูุจ ุฅูู Railway Dashboard**
   - ุงูุชุญ [Railway Dashboard](https://railway.app)
   - ุงุฎุชุฑ ูุดุฑูุนู

2. **ุงูุชุญ ูุงุนุฏุฉ ุงูุจูุงูุงุช**
   - ุงุฐูุจ ุฅูู ูุณู "Database"
   - ุงุถุบุท ุนูู "Query" ุฃู "Connect"

3. **ููุฐ ุงูุณูุฑูุจุช**
   ```sql
   -- ุงูุณุฎ ูุงูุตู ูุญุชูู Quick_Admin_Permissions.sql
   ```

### ุงูุทุฑููุฉ ุงูุซุงููุฉ: ุนุจุฑ psql

1. **ุงุชุตู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช**
   ```bash
   psql $DATABASE_URL
   ```

2. **ููุฐ ุงูุณูุฑูุจุช**
   ```sql
   \i Database_Scripts/Quick_Admin_Permissions.sql
   ```

### ุงูุทุฑููุฉ ุงูุซุงูุซุฉ: ุนุจุฑ ุงูุชุทุจูู

1. **ุงุณุชุฎุฏู endpoint ูุคูุช**
   - ุฃุถู endpoint ูู `AccountController.cs`:
   ```csharp
   [HttpGet]
   [AllowAnonymous]
   public async Task<IActionResult> GrantAdminPermissions()
   {
       // ุชูููุฐ ุงูุณูุฑูุจุช
   }
   ```

## โ ุงูุชุญูู ูู ุงููุฌุงุญ

ุจุนุฏ ุชูููุฐ ุงูุณูุฑูุจุชุ ุชุญูู ูู:

1. **ุชุณุฌูู ุงูุฏุฎูู**
   - Username: `admin`
   - Password: `123`

2. **ุงูุชุญูู ูู ุงูุตูุงุญูุงุช**
   ```sql
   SELECT 
       cu.username,
       cu.role,
       COUNT(up.permission_key) as permissions_count
   FROM controller_users cu
   LEFT JOIN user_permissions up ON cu.id = up.user_id
   WHERE cu.username = 'admin'
   GROUP BY cu.id, cu.username, cu.role;
   ```

## ๐ง ุงูุตูุงุญูุงุช ุงูููููุญุฉ

### 1. ุตูุงุญูุงุช ุงููุธุงู
- โ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
- โ ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ
- โ ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช
- โ ุนุฑุถ ุงูุณุฌูุงุช
- โ ุฅุฏุงุฑุฉ ุงูุชูููู
- โ ุงููุณุฎ ุงูุงุญุชูุงุทู ูุงูุงุณุชุนุงุฏุฉ

### 2. ุตูุงุญูุงุช ุงูุฃูุณุงู
- โ ุนุฑุถ ุฌููุน ุงูุฃูุณุงู
- โ ุชุนุฏูู ุฌููุน ุงูุฃูุณุงู
- โ ุญุฐู ุงูุฃูุณุงู
- โ ุฅุฏุงุฑุฉ ูุณุชุฎุฏูู ุงูุฃูุณุงู

### 3. ุตูุงุญูุงุช ุงูุดูุงุฏุงุช
- โ ุฌููุน ุฃููุงุน ุงูุดูุงุฏุงุช (AFTN, AIS, CNS, ATFM, etc.)
- โ ุนุฑุถุ ุชุนุฏููุ ุญุฐูุ ููุงููุฉ

### 4. ุตูุงุญูุงุช ุงูุฑุฎุต
- โ ุฌููุน ุฃููุงุน ุงูุฑุฎุต
- โ ุนุฑุถุ ุชุนุฏููุ ุญุฐูุ ููุงููุฉ

### 5. ุตูุงุญูุงุช ุงููุฑุงูุจุฉ
- โ ุฌููุน ุฃููุงุน ุงููุฑุงูุจุฉ
- โ ุนุฑุถุ ุชุนุฏููุ ุญุฐูุ ููุงููุฉ

### 6. ุตูุงุญูุงุช ุงูููุธููู
- โ ุนุฑุถ ุฌููุน ุงูููุธููู
- โ ุชุนุฏูู ุฌููุน ุงูููุธููู
- โ ุญุฐู ุงูููุธููู
- โ ุฅุฏุงุฑุฉ ุงูุฑูุงุชุจ
- โ ุฅุฏุงุฑุฉ ุงูุนููุฏ

### 7. ุตูุงุญูุงุช ุงูุชูุงุฑูุฑ
- โ ุนุฑุถ ุฌููุน ุงูุชูุงุฑูุฑ
- โ ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ
- โ ุฌุฏููุฉ ุงูุชูุงุฑูุฑ
- โ ุฅุฏุงุฑุฉ ููุงูุจ ุงูุชูุงุฑูุฑ

## โ๏ธ ุชุญุฐูุฑุงุช ูููุฉ

1. **ุงูุฃูุงู**: ูุฐุง ุงูุณูุฑูุจุช ูููุญ ุตูุงุญูุงุช ูุงููุฉ - ุงุณุชุฎุฏูู ุจุญุฐุฑ
2. **ุงูุจูุฆุฉ**: ุชุฃูุฏ ูู ุชูููุฐู ูู ุงูุจูุฆุฉ ุงูุตุญูุญุฉ
3. **ุงููุณุฎ ุงูุงุญุชูุงุทู**: ูู ุจุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุจู ุงูุชูููุฐ
4. **ุงููุฑุงุฌุนุฉ**: ุฑุงุฌุน ุงูุณูุฑูุจุช ูุจู ุงูุชูููุฐ

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฎุทุฃ: "User admin does not exist"
```sql
-- ุชุฃูุฏ ูู ูุฌูุฏ ุงูุฌุฏูู
SELECT * FROM controller_users WHERE username = 'admin';
```

### ุฎุทุฃ: "Table does not exist"
```sql
-- ุชุฃูุฏ ูู ูุฌูุฏ ุงูุฌุฏุงูู ุงููุทููุจุฉ
\dt
```

### ุฎุทุฃ: "Permission denied"
```sql
-- ุชุฃูุฏ ูู ุตูุงุญูุงุช ุงููุณุชุฎุฏู
SELECT current_user;
```

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุชุญูู ูู ุณุฌูุงุช Railway
2. ุฑุงุฌุน ุฑุณุงุฆู ุงูุฎุทุฃ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ุชุฃูุฏ ูู ุตุญุฉ connection string

---

**ุชุงุฑูุฎ ุขุฎุฑ ุชุญุฏูุซ**: 2025-01-09  
**ุงูุฅุตุฏุงุฑ**: 1.0  
**ุงููุทูุฑ**: HR Aviation System