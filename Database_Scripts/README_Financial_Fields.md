# تعليمات إضافة الحقول المالية الجديدة

## الملف المطلوب تنفيذه:
`Add_Financial_Fields.txt`

## الحقول المالية المضافة:

### 1. **CurrentSalary** (الراتب الحالي)
- نوع البيانات: `DECIMAL(18,2)`
- قابل للقيم الفارغة: نعم
- الوصف: الراتب الحالي للمراقب الجوي

### 2. **AnnualIncreasePercentage** (نسبة الزيادة السنوية)
- نوع البيانات: `DECIMAL(5,2)`
- قابل للقيم الفارغة: نعم
- الوصف: نسبة الزيادة السنوية (0-100%)

### 3. **SalaryAfterAnnualIncrease** (الراتب بعد الزيادة السنوية)
- نوع البيانات: `DECIMAL(18,2)`
- قابل للقيم الفارغة: نعم
- الوصف: الراتب المحسوب تلقائياً بعد الزيادة السنوية

### 4. **BankAccountNumber** (رقم الحساب البنكي)
- نوع البيانات: `NVARCHAR(50)`
- قابل للقيم الفارغة: نعم
- الوصف: رقم الحساب البنكي للمراقب

### 5. **BankName** (اسم البنك)
- نوع البيانات: `NVARCHAR(100)`
- قابل للقيم الفارغة: نعم
- الوصف: اسم البنك الذي يتعامل معه المراقب

### 6. **TaxId** (الرقم الضريبي)
- نوع البيانات: `NVARCHAR(50)`
- قابل للقيم الفارغة: نعم
- الوصف: الرقم الضريبي للمراقب

### 7. **InsuranceNumber** (رقم التأمين)
- نوع البيانات: `NVARCHAR(50)`
- قابل للقيم الفارغة: نعم
- الوصف: رقم التأمين الاجتماعي للمراقب

## خطوات التنفيذ:

### 1. فتح SQL Server Management Studio (SSMS)

### 2. الاتصال بقاعدة البيانات:
- تأكد من الاتصال بقاعدة البيانات `HR-Aviation`

### 3. تنفيذ السكربت:
- افتح الملف `Add_Financial_Fields.txt`
- انسخ المحتوى بالكامل
- الصق في نافذة Query في SSMS
- اضغط F5 أو زر Execute

### 4. التحقق من النتائج:
- ستظهر رسائل تأكيد في نافذة Messages
- ستظهر جدول صغير يوضح الأعمدة المضافة

## النتائج المتوقعة:
```
بدء إضافة الأعمدة المالية الجديدة إلى جدول controllers...
تم إضافة عمود CurrentSalary
تم إضافة عمود AnnualIncreasePercentage
تم إضافة عمود SalaryAfterAnnualIncrease
تم إضافة عمود BankAccountNumber
تم إضافة عمود BankName
تم إضافة عمود TaxId
تم إضافة عمود InsuranceNumber
تم إضافة جميع الأعمدة المالية بنجاح!
```

## الميزات الجديدة في التطبيق:

### 1. **صفحة إضافة مراقب جوي جديد**:
- قسم "Financial Information" جديد
- حقل الراتب الحالي
- حقل نسبة الزيادة السنوية
- حقل الراتب بعد الزيادة (محسوب تلقائياً)
- حقول المعلومات البنكية والضريبية

### 2. **صفحة تعديل مراقب جوي**:
- نفس الحقول المالية
- حساب تلقائي للراتب بعد الزيادة
- تحديث البيانات في قاعدة البيانات

### 3. **التحقق من صحة البيانات**:
- الراتب الحالي: رقم موجب
- نسبة الزيادة: بين 0 و 100%
- الحقول الأخرى: نصوص محدودة الطول

### 4. **JavaScript التفاعلي**:
- حساب تلقائي للراتب بعد الزيادة السنوية
- تحديث فوري عند تغيير الراتب أو النسبة

## إذا واجهت أي مشاكل:

### المشكلة: "خطأ في الاتصال"
**الحل:** تأكد من الاتصال بقاعدة البيانات الصحيحة

### المشكلة: "جدول controllers غير موجود"
**الحل:** تأكد من وجود الجدول في قاعدة البيانات

### المشكلة: "الأعمدة موجودة بالفعل"
**الحل:** هذا طبيعي، السكربت يتحقق من وجود الأعمدة قبل إضافتها

## ملاحظات مهمة:
- جميع الحقول الجديدة قابلة للقيم الفارغة (NULL)
- يمكن إضافة البيانات تدريجياً
- الحقول المالية محمية بتحقق من صحة البيانات
- الراتب بعد الزيادة محسوب تلقائياً ولا يمكن تعديله يدوياً 